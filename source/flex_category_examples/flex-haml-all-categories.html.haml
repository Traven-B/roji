---
layout: page
title: Category Index
footer_art: search
stylesheet: additional_styles/flex-all-categories
---
- topics = blog.articles.group_by {|a| a.metadata[:page][:category] }.delete_if { |category, a| category.nil? }
.ml2
  - topics.sort_by{|topic, articles| topic.downcase }.each do |topic, articles|
    = link_to "<div class=\"m-rounded\">#{topic.capitalize} <span class=\"m-sup\">#{articles.size}</span></div>", current_page, :class => "hideunder", :fragment => "#{topic}"
- topics.each do |tag, articles|
  %h2{:id => "#{tag}"}= link_to "#{tag.capitalize}", category_path(tag), :class=>"tag-list-title"
  .ml2
    %ul.tag-list
      - articles.each do |article|
        %li
          %span.bullet
          %span.text.sit-header= link_to article.title, article
          %span.date.p-m.small= article.date.strftime('%B %d, %Y')
